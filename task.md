Давай назовем проект RDance и уберем все что касается частиц.
Будем делать симулятор танца: на экране будет нарисован человек, а с помощью клавиатуры мы будем управлять его движениями.
На расстоянии 10% от низа экрана пусть будет нарисована белая полоса - это будет пол. На нем будет стоять "человек". Сейчас мы нарисуем его в виде каркаса - скелета. Скелет будет представлять собой опорные точки (оторбазить окружностью небольшого радиуса) к которым будут крепиться кости (отобразить линиями небольшой толщины).
Опорными точками будут: ступни, колени, таз, основание шеи, левое плечо, правое плечо, левый локоть, правый локоть, левая кисть, правая кисть, голова.
Кости: от ступни к колену (левая и правая), от колена к тазу (левая и правая), от таза к основании шеи, от шеи до плеча (левого и правого), от плеча до локтя (левого и правого), от локтя до кисти (левой и правой), от основании шеи до головы.
Никакой физики к положению костей применять не надо. Подбери длины костей так, чтобы человек был пропорциональным. 
Сделай сохранение состояния скелета человека как координаты его таза, угола наклона туловища (кости от таза к основании шеи) и угла наклона остальных костей относительно кости туловища.
Сделай функцию отрисовки челвовека (сейчас - только скелета) по его состоянию.
Задай начальное состояние человека, чтобы он выглядел как человек, который стоит прямо и ступни его находятся на линии пола. 



Давай доработаем начальную позицию человека. Наш экран - как камера - смотрит на человека спереди. У человека спереди голова сверху, плечи от основания шеи по горизонтали, руки вниз и слегка в стороны, туловище вертикально, ноги вниз и слегка в стороны. Для начала подбери взаимное расположение углов так, чтобы положения конечностей соответствовало описанию выше. Потом подбери координаты таза так, чтобы координаты опорных точек ступней совпадали с линией пола. Координату по высоте линии пола можно зафиксировать константой или вычислять при первой отрисовке.


Исправь ошибку в расчете координат суставов: в функции calculateJointPositions используются тригонометрические функции, они принимают углы в радианах, а в состоянии углы указаны в градусах. Состояние пусть останется в градусах, а при расчетах пересчитывай градусы в радианы.

При повороте туловища все остальные кости тоже должны менять свою и позицию и угол, т.к. их положения заданы относительно координат таза и угла наклона туловища. Это справедливо для верхней части скелета - голова и руки перемещаются вместе с туловищем, но ноги остаются на месте, а это - ошибка. Исправь.

исправь началоное положение ног: сейчас углы заданы так, что на экране ноги рисуются вверх от таза, а ноги должны идти вниз

